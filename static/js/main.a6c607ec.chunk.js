(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(9),d=n.n(i),o=(n(33),n(5)),j=(n(34),function(e){var t=e.children;return Object(c.jsx)("div",{className:"card",children:t})}),s=n(7),b=n(18),l=n.n(b),u=(n(35),n(13)),O=n(4),f=n.p+"static/media/remove.fb4c710b.svg",p=n(26),v=n(25),m=n(8),x=n(3),h=n(6),g=n(46),y=[{today:[{text:"Take paper",id:Object(g.a)()},{text:"Take pen",id:Object(g.a)()}]},{tomorrow:[{text:"Eat pizza",id:Object(g.a)()}]}],E=Object(h.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case"ADD_CARD":case"MOVE":return c;case"MOVE_OUTSIDE":return Object(x.a)(e);case"ADD_COLUMN":return Object(o.a)(Object(o.a)({},e),{},{items:[].concat(Object(x.a)(e.items),[[]])});case"RENAME_TITLE":case"DELETE_CARD":case"DELETE_COLUMN":return c;default:return e}}),y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({name:"kanban-app"})),_=function(e){var t=E.getState(),n=Object(x.a)(t),c=Object(x.a)(n),a=Object(o.a)({},t),r=[];for(var i in a){var d=a[Object.keys(a)[i]];for(var j in d)r.push(d[j])}var b=e.source,l=e.destination;if(!l)return{type:"MOVE_OUTSIDE"};var u=+b.droppableId,O=+l.droppableId;if(u===O){var f=function(e,t,n){var c=Array.from(e),a=c.splice(t,1),r=Object(s.a)(a,1)[0];return c.splice(n,0,r),c}(r[u],b.index,l.index),p=[].concat(r);p[u]=f;for(var v="",h=0;h<p.length;h++)v=Object.keys(n[h])[0],c[h]=Object(m.a)({},v,p[h]);return{type:"MOVE",payload:c}}var g=function(e,t,n,c){var a=Array.from(e),r=Array.from(t),i=a.splice(n.index,1),d=Object(s.a)(i,1)[0];r.splice(c.index,0,d);var o={};return o[n.droppableId]=a,o[c.droppableId]=r,o}(r[u],r[O],b,l),y=[].concat(r).filter((function(e){return e.length}));y[u]=g[u],y[O]=g[O];for(var _="",k=0;k<y.length;k++)_=Object.keys(n[k])[0],c[k]=Object(m.a)({},_,y[k]);return{type:"MOVE",payload:c}},k=function(e,t,n){var c=E.getState();if("undefined"===typeof e){var a=Object(m.a)({},function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*c));return t}(6),[{text:t,id:Object(g.a)()}]);return{type:"ADD_CARD",payload:[].concat(Object(x.a)(c),[a])}}var r=[].concat(Object(x.a)(c[e][n]),[{text:t,id:Object(g.a)()}]),i=Object(x.a)(c),d=Object(m.a)({},n,r);return i.splice(e,1,d),{type:"ADD_CARD",payload:Object(x.a)(i)}},D=function e(t,n,c){var a=E.getState(),r=Object(x.a)(a),i=r[c][t],d=(r[t],Object(p.a)(r,[t].map(v.a)),r[c]),o=r.filter((function(e){return e!==d})),j=Object(m.a)({},n,i);return o.splice(c,0,j),{type:e,payload:Object(x.a)(o)}},N=function(e){var t,n,r=e.ind,i=e.items,d=e.titleNumber,b=e.title;"undefined"===typeof i?b="new column":(t=i[Object.keys(i)],n=b);var p=Object(a.useState)(""),v=Object(s.a)(p,2),h=v[0],g=v[1],y=Object(O.c)();Object(a.useEffect)((function(){g(b)}),[b]);var _=Object(a.useState)(!1),k=Object(s.a)(_,2),N=k[0],C=k[1],S=function(e,t,n){y(function(e,t,n){var c=E.getState(),a=Object(x.a)(c),r=a[e],i=r[Object.keys(r)[0]].filter((function(e){return e.id!==t}));return a.splice(e,1),a.splice(e,0,Object(m.a)({},n,i)),{type:"DELETE_CARD",payload:Object(x.a)(a)}}(e,t,n))},T=function(e){y(function(e){var t=E.getState(),n=Object(x.a)(t);return n.splice(e,1),{type:"DELETE_COLUMN",payload:Object(x.a)(n)}}(e))};return Object(c.jsxs)("div",{className:l()("panel",{"panel--empty":!i}),children:[t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"panel__header",children:N?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{type:"text",onChange:function(e){g(e.target.value)},value:h}),Object(c.jsx)(R,{onClick:function(){C(!N),y(D(n,h,d))},children:"save"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{onClick:function(){C(!N)},children:h}),Object(c.jsx)(R,{onClick:function(){T(d)},children:"delete"})]})}),Object(c.jsx)(u.c,{droppableId:"".concat(r),children:function(e){return Object(c.jsxs)("div",{ref:e.innerRef,children:[t.map((function(e,t){return Object(c.jsx)(u.b,{draggableId:e.id,index:t,children:function(t){return Object(c.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(c.jsxs)(j,{children:[e.text,Object(c.jsx)("img",{src:f,alt:"remove item",onClick:function(){S(d,e.id,b)}})]})}))}},e.id)})),e.placeholder]})}},r)]}),Object(c.jsx)(A,{columnName:b,titleNumber:d})]})},C=(n(42),function(e){var t=e.children,n=e.addCard,a=e.text;return Object(c.jsx)("div",{onClick:function(){return n(a)},className:"button",children:t})}),S=(n(43),n.p+"static/media/add.5a391a60.svg"),A=function(e){var t=e.columnName,n=e.titleNumber,r=Object(O.c)(),i=Object(a.useState)(!1),d=Object(s.a)(i,2),o=d[0],b=d[1],l=Object(a.useState)(""),u=Object(s.a)(l,2),p=u[0],v=u[1],m=Object(a.useRef)(null);Object(a.useEffect)((function(){m.current&&m.current.focus()}),[o]);return Object(c.jsx)(c.Fragment,{children:o?Object(c.jsx)("div",{className:"add-form",children:Object(c.jsxs)("div",{className:"add-form__input",children:[Object(c.jsx)(j,{children:Object(c.jsx)("textarea",{value:p,onChange:function(e){v(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",ref:m,rows:"3"})}),Object(c.jsxs)("div",{className:"add-form__button",children:[Object(c.jsx)(C,{addCard:function(){r(k(n,p,t)),v(""),b(!1)},text:p,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"}),Object(c.jsx)("img",{onClick:function(){return b(!1)},className:"add-form__button-clear",src:f,alt:"Clear svg icon"})]})]})}):Object(c.jsx)("div",{className:"panel__bottom",children:Object(c.jsxs)("div",{className:"panel__bottom-add-btn",onClick:function(){return b(!0)},children:[Object(c.jsx)("img",{src:S,alt:"add one card"}),Object(c.jsx)("span",{children:" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})]})})})},T=n(20);function I(){var e=Object(T.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #807b7b;\n  color: #565454;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n\n"]);return I=function(){return e},e}var M=n(21).a.button(I()),R=function(e){var t=e.children,n=e.onClick;return Object(c.jsx)(M,{onClick:n,children:t})};var w=function(){var e=Object(O.c)(),t=Object(O.d)((function(e){return e})),n=Object(o.a)({},t),a=[];for(var r in n)a.push(n[r]);return Object(c.jsx)("div",{children:Object(c.jsx)("div",{style:{display:"flex"},children:Object(c.jsxs)(u.a,{onDragEnd:function(t){e(_(t))},children:[a.map((function(e,t){return Object(c.jsx)(N,{ind:t,titleNumber:Object.keys(n)[t],items:a[t],title:Object.keys(e)[0]},t)})),Object(c.jsx)(N,{})]})})})};d.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(O.a,{store:E,children:Object(c.jsx)(w,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.a6c607ec.chunk.js.map